<div [hidden]="!dataSource.data.length" class="table-avaliations mat-elevation-z8">
  <mat-card>Serviços a serem avaliados!</mat-card>
  <div class="">
    <table mat-table [dataSource]="dataSource">
      <ng-container matColumnDef="provider">
        <th mat-header-cell *matHeaderCellDef> Nome Prestador </th>
        <td mat-cell *matCellDef="let element"> {{element.provider?.name}} </td>
      </ng-container>
      <ng-container matColumnDef="serviceName">
        <th mat-header-cell *matHeaderCellDef> Tipo Serviço </th>
        <td mat-cell *matCellDef="let element"> {{element.serviceName}} </td>
      </ng-container>
      <ng-container matColumnDef="dtConclusion">
        <th mat-header-cell *matHeaderCellDef> Dt. Conclusão </th>
        <td mat-cell *matCellDef="let element"> {{element.dtConclusion | date:'dd/MM/yyyy HH:mm:SS'}} </td>
      </ng-container>
      <ng-container matColumnDef="value">
        <th mat-header-cell *matHeaderCellDef> Valor </th>
        <td mat-cell *matCellDef="let element">
          <a type="button" *ngIf="element.value" (click)="showObject(element)"><span>{{element.value | currency:'R$' }}</span></a>
          <span *ngIf="!element.value">Sem cálculo dinâmico</span>
        </td>
      </ng-container>
      <ng-container matColumnDef="avaliation">
        <th mat-header-cell *matHeaderCellDef> Avaliação </th>
        <td mat-cell *matCellDef="let element">
          <app-avaliation-stars origin="pendingJob" enabled="true" [element]="element"></app-avaliation-stars>
        </td>
      </ng-container>
      <ng-container matColumnDef="avaliationObs">
        <th mat-header-cell *matHeaderCellDef> Observação Avaliação </th>
        <td mat-cell *matCellDef="let element" style="text-align: center;">
          <a mat-icon-button (click)="showAvaliationObs(element)">
            <mat-icon class="mat-18">assistant</mat-icon>
          </a>
        </td>
      </ng-container>
      <ng-container matColumnDef="observation">
        <th mat-header-cell *matHeaderCellDef> Observação </th>
        <td mat-cell *matCellDef="let element">
          <a mat-icon-button (click)="showObservation(element)">
            <mat-icon class="mat-18">plagiarism</mat-icon>
          </a>
        </td>
      </ng-container>
      <ng-container matColumnDef="detail">
        <th mat-header-cell *matHeaderCellDef> Detalhes </th>
        <td mat-cell *matCellDef="let element">
          <a mat-icon-button (click)="showDetail(element)">
            <mat-icon class="mat-18">description</mat-icon>
          </a>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator #paginatorPendingRateJob pageSize=5 [length]="dataSource.data.length" showFirstLastButtons>
    </mat-paginator>
  </div>
  <button class="mr-1" color="primary" mat-button mat-stroked-button (click)="save()">
    <mat-icon class="mat-18">save</mat-icon>
    <span>Salvar</span>
  </button>
  <button (click)="loadData()" color="primary" mat-button mat-stroked-button>
    <mat-icon class="mat-18">autorenew</mat-icon>
    <span>Atualizar</span>
  </button>
</div>
